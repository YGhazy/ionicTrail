{"version":3,"sources":["./src/app/login/login.page.ts","./src/app/login/login.page.html","./src/app/login/login.module.ts","./src/app/login/login.page.scss"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAkD;AACyB;AACxB;IAOtC,SAAS,SAAT,SAAS;IAGpB,YAAoB,WAAkC,EAAU,iBAAoC;QAAhF,gBAAW,GAAX,WAAW,CAAuB;QAAU,sBAAiB,GAAjB,iBAAiB,CAAmB;IAAG,CAAC;IAElG,QAAQ;;YACZ,2CAA2C;YAC3C,yCAAyC;YACzC,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE;gBACxB,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC5D,IAAI;oBACF,MAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBAClE;gBAAC,OAAO,CAAC,EAAE;oBACV,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,OAAO,CAAC;iBAC/B;wBAAS;oBACR,gBAAgB,CAAC,OAAO,EAAE,CAAC;iBAC5B;aACF;QACH,CAAC;KAAA;IAEK,KAAK;;YACT,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC5D,IAAI;gBACF,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpB,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;aAChC;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;aAC1C;oBAAS;gBACR,gBAAgB,CAAC,OAAO,EAAE,CAAC;aAC5B;QACH,CAAC;KAAA;IAEa,qBAAqB;;YACjC,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAC3D,OAAO,EAAE,yBAAyB;aACnC,CAAC,CAAC;YACH,MAAM,gBAAgB,CAAC,OAAO,EAAE,CAAC;YACjC,OAAO,gBAAgB,CAAC;QAC1B,CAAC;KAAA;CACF;;YA/CQ,sFAAqB;YACrB,gEAAiB;;AAOb,SAAS;IALrB,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,6EAAgC;;KAEjC,CAAC;mFAIiC,sFAAqB,EAA6B,gEAAiB;GAHzF,SAAS,CAuCrB;AAvCqB;;;;;;;;;;;;;ACTtB;AAAe,wbAAyX,cAAc,uCAAuC,E;;;;;;;;;;;;;;;;;;;;;;ACApZ;AACM;AACF;AACU;AAEV;AAEJ;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qDAAS;KACrB;CACF,CAAC;IAWW,eAAe,SAAf,eAAe;CAAG;AAAlB,eAAe;IAT3B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,qDAAS,CAAC;KAC1B,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;ACzB5B;AAAe,6GAA8C,mHAAmH,E","file":"login-login-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss']\n})\nexport class LoginPage implements OnInit {\n  errorMessage: string;\n\n  constructor(private authService: AuthenticationService, private loadingController: LoadingController) {}\n\n  async ngOnInit() {\n    // If coming back after logging into Auth0,\n    // and using CURRENT Implicit (web) Login\n    if (window.location.hash) {\n      const loadingIndicator = await this.showLoadingIndictator();\n      try {\n        await this.authService.handleLoginCallback(window.location.href);\n      } catch (e) {\n        this.errorMessage = e.message;\n      } finally {\n        loadingIndicator.dismiss();\n      }\n    }\n  }\n\n  async login() {\n    const loadingIndicator = await this.showLoadingIndictator();\n    try {\n      console.log(\"here\");\n      await this.authService.login();\n    } catch (e) {\n      console.log(`caught error ${e.message}`);\n    } finally {\n      loadingIndicator.dismiss();\n    }\n  }\n\n  private async showLoadingIndictator() {\n    const loadingIndicator = await this.loadingController.create({\n      message: 'Opening login window...'\n    });\n    await loadingIndicator.present();\n    return loadingIndicator;\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Welcome!</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <p style=\\\"text-align:center\\\">Please sign into your account:</p>\\n  <ion-button class=\\\"ion-padding\\\" expand=\\\"block\\\" (click)=\\\"login()\\\" size=\\\"large\\\">Log In</ion-button>\\n  <div class=\\\"ion-text-center ion-padding\\\">\\n    <p class=\\\"error\\\">\\n      {{errorMessage}}\\n    </p>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}